toto est grand


note: valgrind --leak-check=full --show-leak-kinds=all --log-fd=1 ./bin/space -f eulerRigid_3D_Valgrind.def > valgrind.log



Installation des compilos Intel à la ligne de commande :
sudo /mnt/d/peyret/Download/l_*.sh -s -a --silent -eula accept


Les sources sont Installées dans le répertoire ~/Developper
Les applications sont Construite dans le dossier ~/Build
Les applications sont installées dans le dossier $MyDir


CMake (avec les compilos intel 21, il faut une version récente de cmake)
cd ~/Developer
git clone https://github.com/Kitware/CMake.git
sudo apt-get install libssl-dev
cd ~/Build/cmake
CC=gcc CXX=g++ ~/Developer/CMake/bootstrap --prefix=$MyDir/CMake 
make
make install

LIBMESHB
cd ~/Developer
export LIBMESH_DIR=$MyDir/libMeshb
git clone https://github.com/LoicMarechal/libMeshb.git
cd ~/Build/libMeshb
cmake ~/Developer/libMeshb -DCMAKE_INSTALL_PREFIX=$LIBMESH_DIR -DCMAKE_Fortran_COMPILER=ifort -DCMAKE_C_COMPILER=icc -DCMAKE_BUILD_TYPE=Debug / RelWithDebInfo / Release
cp modules/libmeshb7.mod $LIBMESH_DIR/include/.


PARMETIS (récupère le source sur le site et on construit l'exe depuis le dossier source)
cd Developer/parmetis-4.0.3
export PARMETIS_DIR =$MyDir/parmetis-4.0.3
make config prefix=$PARMETIS_DIR cc=mpicc cxx=mpicxx
make
sudo make install

après il faut encore ajouter les fichiers :
sudo cp metis/include/metis.h $PARMETIS_DIR/include
sudo cp build/Linux-x86_64/libmetis/libmetis.a $PARMETIS_DIR/lib/.


CWIPI
cd ~/Developer
git clone https://peyret@git.onera.fr/cwipi
cd ~/Build/cwipi
export CWIPI_DIR=$MyDir/cwipi
cmake ~/Developer/cwipi/ -DCMAKE_INSTALL_PREFIX=$CWIPI_DIR -DCWP_ENABLE_Fortran=ON -DCWP_ENABLE_PYTHON_BINDING=ON -DCMAKE_BUILT_TYPE=RelWithDeInfo -DCMAKE_C_COMPILER=icc -DCMAKE_CXX_COMPILER=icpc -DPYTHON_EXECUTABLE=/opt/intel/oneapi/intelpython/latest/bin/python3 -DMPI_Fortran_COMPILER=mpiifort -DMPI_C_COMPILER=mpiicc


PARADIGMA
cd ~/Developer
git clone https://peyret@git.onera.fr/paradigma
cd ~/Build/paradigma
export PARADIGMA_DIR=$MyDir/paradigma
CC=mpiicc CXX=mpiicpc FC=mpiifort cmake ~/Developer/paradigma -DCMAKE_INSTALL_PREFIX=$PARADIGMA_DIR -DCMAKE_BUILD_TYPE=Release

SPACE
cd ~/Developer
git clone https://peyret@git.onera.fr/spacecd ~/Build/space
cd ~/Build/space
export SPACE_DIR=$MyDir/space
cmake ~/Developer/space -DCMAKE_INSTALL_PREFIX=$SPACE_DIR -DMPI_Fortran_COMPILER=mpiifort -DMPI_C_COMPILER=mpiicc -DMPI_CXX_COMPILER=mpiicpc -DCMAKE_BUILD_TYPE=Debug / RelWithDebInfo / Release


